---
title: "DNS 레코드 종류와 문제 진단 가이드"
date: "2026-02-17"
description: "A, AAAA, CNAME, MX, TXT 등 주요 DNS 레코드의 역할을 정리하고, OS별 dig/nslookup/host 명령어로 DNS 문제를 진단하는 실전 방법을 다룬다."
tags: ["dns", "network", "troubleshooting", "server"]
---

# DNS 레코드 종류와 문제 진단 가이드

DNS 레코드는 "도메인 이름에 대해 어떤 정보를 질의하면 무엇을 돌려줄지"를 정의하는 데이터다. 서버 운영, 메일 설정, TLS 인증서 발급 등 거의 모든 인프라 작업에서 DNS 레코드를 다루게 된다.

---

## 주요 DNS 레코드 종류

실무에서 거의 다 쓰이는 대표 레코드들을 정리한다.

### A 레코드

도메인을 IPv4 주소로 매핑한다. 가장 기본적인 레코드다.

```
www.example.com  IN A  93.184.216.34
```

### AAAA 레코드

도메인을 IPv6 주소로 매핑한다. IPv6 전용 또는 듀얼 스택 환경에서 사용한다.

```
www.example.com  IN AAAA  2001:db8::1
```

### CNAME (Canonical Name)

한 도메인을 다른 도메인의 별칭(alias)으로 지정한다. 루트 도메인(`@`)에는 직접 사용할 수 없다.

```
www.example.com  IN CNAME  web.example.com
```

### MX (Mail Exchanger)

메일 수신 서버를 지정한다. 우선순위(priority) 숫자가 포함되며, 숫자가 낮을수록 먼저 사용된다.

```
example.com  IN MX  10 mail1.example.com
example.com  IN MX  20 mail2.example.com
```

### TXT

임의 텍스트를 저장한다. SPF, DKIM, DMARC 같은 메일 인증 정책이나 도메인 소유 확인에 사용한다.

```
example.com  IN TXT  "v=spf1 include:_spf.google.com ~all"
```

### NS (Name Server)

해당 존(zone)을 담당하는 권한 네임서버를 지정한다.

```
example.com  IN NS  ns1.example.net
example.com  IN NS  ns2.example.net
```

### SOA (Start of Authority)

존의 기본 메타데이터를 담는다. 마스터 네임서버, 관리자 메일, 시리얼 번호, 리프레시/리트라이 간격 등이 포함된다. 한 존당 1개, 존 파일 맨 위에 위치한다.

### PTR (Pointer)

역방향 DNS로, IP 주소를 도메인 이름으로 매핑한다. 메일 서버의 스팸 필터링에서 중요하다.

```
34.216.184.93.in-addr.arpa  IN PTR  www.example.com
```

### SRV

특정 서비스(SIP, XMPP, Minecraft 등)의 위치를 지정한다. 호스트, 포트, 우선순위, weight 정보를 포함한다.

```
_sip._tcp.example.com  IN SRV  10 60 5060 sipserver.example.com
```

### CAA (Certification Authority Authorization)

어떤 CA가 이 도메인에 대해 TLS 인증서를 발급할 수 있는지 제한한다. 오발급 방지에 사용한다.

```
example.com  IN CAA  0 issue "letsencrypt.org"
```

### 기타 레코드

- **SPF**: 예전에는 별도 타입이었지만, 현재는 TXT 레코드에 SPF 정책을 넣는 방식이 표준이다.
- **NAPTR**: SRV와 함께 VoIP 등에서 서비스 디스커버리에 사용한다.
- **DNSKEY, DS, RRSIG**: DNSSEC 관련 레코드로, DNS 응답의 무결성을 보장한다.

---

## 레코드 정리 표

| 타입 | 역할 | 예시 사용처 | 비고 |
|------|------|-------------|------|
| A | 도메인 → IPv4 | 웹 서버 주소 | 가장 기본 레코드 |
| AAAA | 도메인 → IPv6 | IPv6 웹 서비스 | 듀얼 스택 환경 |
| CNAME | 별칭 설정 | `www`를 루트에 alias | 루트 도메인에 직접 쓰지 말 것 |
| MX | 메일 서버 | `@example.com` 메일 수신 | 우선순위 필드 포함 |
| TXT | 텍스트/정책 | SPF, DKIM, 도메인 인증 | 도메인 검증에 필수 |
| NS | 권한 네임서버 | 도메인 위임 | 레지스트리/레지스트라 설정 |
| SOA | 존 정보 전체 | 시리얼, 리프레시 | 존당 1개 |
| PTR | IP → 도메인 | 메일 서버 역조회 | 스팸 필터에 중요 |
| SRV | 서비스 위치 | SIP, XMPP, 게임 서버 | priority, weight, port |
| CAA | 발급 가능한 CA 제한 | TLS 인증서 보안 | 오발급 방지 |

---

## DNS 문제 진단 기본 흐름

OS와 무관하게 다음 순서로 진단한다.

1. 네트워크 자체 연결 확인 (`ping`, IP 설정)
2. DNS 서버 설정 확인 (어디로 쿼리를 보내는지)
3. 특정 도메인에 대해 DNS 질의가 정상인지 확인 (A, MX 등)
4. 다른 DNS 서버(예: `8.8.8.8`)로도 질의해서 로컬 문제인지 외부 존 문제인지 구분
5. 필요하면 `traceroute`, `dig +trace`로 경로 및 권한 체인까지 확인

---

## 공통: nslookup

`nslookup`은 Windows, macOS, 대부분의 Linux에서 사용 가능하며, 거의 모든 레코드 타입 조회에 쓸 수 있다.

### 기본 조회

```bash
nslookup example.com
```

기본 DNS 서버를 사용해 A 레코드를 조회한다.

### 특정 타입 조회

```bash
nslookup -type=a example.com     # A 레코드
nslookup -type=mx example.com    # MX 레코드
nslookup -type=ns example.com    # NS 레코드
```

### 특정 DNS 서버 지정

```bash
nslookup example.com 8.8.8.8    # Google DNS로 질의
nslookup example.com 1.1.1.1    # Cloudflare DNS로 질의
```

기본 DNS와 공용 DNS 결과를 비교해서 "내 PC 문제인지, DNS 서버 문제인지" 구분할 수 있다.

---

## Linux / macOS

### dig

`dig`는 가장 강력한 DNS 진단 도구로, Linux와 macOS에 기본 포함되어 있다.

#### 기본 A 레코드 조회

```bash
dig example.com
```

#### 특정 타입 조회

```bash
dig example.com MX    # 메일 문제 시 자주 확인
dig example.com NS    # 네임서버 확인
dig example.com TXT   # SPF/DKIM 등 확인
```

#### 특정 DNS 서버 지정

```bash
dig @8.8.8.8 example.com A
```

기본 DNS 결과와 비교해 문제 범위를 좁힐 수 있다.

#### 전체 경로 추적

```bash
dig +trace example.com
```

루트 서버 → TLD 서버 → 권한 서버까지 전체 위임 체인을 추적한다. 어느 단계에서 응답이 끊기는지 확인할 수 있다.

#### 역방향 조회

```bash
dig -x 93.184.216.34
```

IP 주소에서 도메인 이름을 조회한다. 메일 서버 PTR 레코드 확인에 유용하다.

### host

`host`는 간단한 DNS 조회용 유틸리티다.

```bash
host example.com           # 기본 조회
host -t MX example.com     # MX 레코드
host -t NS example.com     # NS 레코드
```

### ping / traceroute

DNS 문제인지 네트워크 문제인지 구분할 때 함께 사용한다.

```bash
# DNS를 거쳐 IP 해석 + ICMP 응답 확인
ping example.com

# DNS를 거치지 않고 순수 네트워크 상태 확인
ping 93.184.216.34

# 어느 홉에서 끊기는지 경로 확인
traceroute example.com
```

`ping`은 되는데 도메인으로 접근이 안 되면 DNS 문제, IP로도 안 되면 네트워크 문제다.

---

## Windows

Windows는 `nslookup`, `ping`, `tracert`, `ipconfig` 조합이 기본이다.

### DNS 캐시 확인 및 초기화

```powershell
# 로컬 DNS 캐시 내용 확인
ipconfig /displaydns

# 캐시 삭제 후 재테스트
ipconfig /flushdns
```

### 네트워크 설정 확인

```powershell
ipconfig /all
```

출력에서 `DNS Servers` 항목을 확인해 현재 어떤 DNS 서버를 사용하는지 파악한다.

### DNS 질의

```powershell
nslookup example.com          # 기본 DNS 기준
nslookup example.com 1.1.1.1  # Cloudflare DNS와 비교
```

### 경로 확인

```powershell
tracert example.com
```

Linux의 `traceroute`와 동일한 역할이다.

---

## 문제 유형별 진단

### 1. 특정 도메인만 안 열림

다른 사이트는 되는데 특정 도메인만 안 되는 경우다.

```bash
# 기본 DNS로 조회
nslookup example.com

# 공용 DNS로 비교
nslookup example.com 8.8.8.8

# 위임 체인 전체 확인
dig +trace example.com
```

기본 DNS로 안 되고 공용 DNS로는 되면 → 로컬/ISP DNS 문제.
둘 다 안 되면 → 도메인 자체의 권한 서버 문제.

### 2. 간헐적 이름 해석 실패

인터넷은 되는데 가끔 DNS 해석이 실패하는 경우다.

```bash
# Windows: 캐시 상태 확인 후 초기화
ipconfig /displaydns
ipconfig /flushdns

# Linux/macOS: 여러 번 질의해서 응답 시간, 타임아웃 체크
dig example.com
dig example.com
dig example.com
```

### 3. 메일이 안 들어옴

```bash
# MX 레코드 확인
dig example.com MX

# MX가 가리키는 호스트에 도달 가능한지 확인
dig mail.example.com A
ping mail.example.com

# 메일 서버 IP의 역방향 조회 (PTR) 확인
dig -x <메일 서버 IP>
```

MX 레코드가 없거나 잘못된 호스트를 가리키면 메일 수신이 불가능하다. PTR 레코드가 없으면 수신 측 스팸 필터에 걸릴 수 있다.

### 4. 서버 IP 변경 후 일부만 반영됨

```bash
# 각 PC에서 현재 조회 결과 확인
nslookup example.com

# 공용 DNS에서 캐시 상태 확인
dig @8.8.8.8 example.com A
dig @1.1.1.1 example.com A
```

TTL(Time To Live)이 만료되지 않은 DNS 서버는 이전 IP를 캐시하고 있다. IP 변경 전에 TTL을 낮춰두는 것이 좋다.

---

## 참고자료

- [DNS Record Types Explained - DomainDetails](https://domaindetails.com/kb/technical-guides/dns-record-types-explained)
- [DNS Records - DNS Studio](https://dns.studio/dns-records)
- [DNS Records Explained: A, AAAA, CNAME, MX, TXT, NS, and SRV - IP Address Location](https://ipaddresslocation.net/articles/dns-records-explained-a-aaaa-cname-mx-txt-ns-and-srv)
- [DNS Troubleshooting Commands - Fatech](https://www.fatech.org.uk/dns-troubleshooting-commands/)
- [Using dig, nslookup, and host for DNS Diagnostics - Dohost](https://dohost.us/index.php/2025/08/03/using-dig-nslookup-and-host-for-dns-diagnostics/)
- [DNS Troubleshooting - PhoenixNAP](https://phoenixnap.com/kb/dns-troubleshooting)
- [Advanced DNS Troubleshooting - DNS Made Easy](https://dnsmadeeasy.com/resources/advanced-dns-troubleshooting-with-windows-command-prompt-and-powershell)
